<%# app/views/feedbacks/new.html.erb %>
<div class="container mt-4">
  <div class="card shadow">
    <div class="card-header bg-primary text-white">
      <h2>Service Feedback</h2>
    </div>
    <div class="card-body">
      <div class="mb-4">
        <h5>Service Details</h5>
        <p>
          <strong>Location:</strong> <%= @service_record.location.name %><br>
          <strong>Provider:</strong> <%= @service_record.partner.name %><br>
          <strong>Date:</strong> <%= @service_record.date.strftime("%B %d, %Y") %>
        </p>
      </div>

      <%= form_with(model: [@service_record, @feedback], local: true) do |f| %>
        <div class="mb-3">
          <%= f.label :rating, "Rating", class: "form-label" %>
          <div class="star-rating">
            <% 5.downto(1) do |i| %>
              <%= f.radio_button :rating, i, id: "rating_#{i}" %>
              <%= f.label "rating_#{i}", "â˜…", class: "star-label" %>
            <% end %>
          </div>
        </div>

        <div class="mb-3">
          <%= f.label :content, "Comments", class: "form-label" %>
          <%= f.text_area :content, class: "form-control", rows: 4, required: true %>
        </div>

        <div class="actions">
          <%= f.submit "Submit Feedback", class: "btn btn-primary" %>
          <%= link_to "Cancel", dashboard_path, class: "btn btn-secondary" %>
        </div>
      <% end %>
    </div>
  </div>
</div>